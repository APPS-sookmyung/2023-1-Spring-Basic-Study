# week6.md

[섹션 6 나머지] JPA

- Jdbc -> JDB templete ( 반복적인 코드 확 줄음 ) , 그치만, SQl 은 개발자가 직접 작성해줘야 함.
- JPA 는 sql 을 직접 만들어줌. 데이터 중심 -> 객체 중심으로 패러다임 변경 가능.
- 만들어진 걸 사용할 것이기 때문에, hibernate=none

---

- jpa 를 사용하려면, entity 를 mapping 해줘야 함 -> 외부 라이브러리에서 코드 추가
- jpa- 자바의 표준 인터페이스고, 이클립스 등의 각 업체에서 그것을 구현
( 객체, orm( 관계형 데이터 베이스 )
- 아이덴티티 전략 => 데이터베이스가 알아서 테이블 생성해주는 것
JPA -> 엔티티 메니저가 모든 것을 해줌
스프링 부트가 현재 데이터 베이스들을 가지고 와서 엔티티 메니저를 만들어줌.
그래서, 제이피에이를 사용하려면 엔티티 매니저를 주입받아야 한다.
- findall -> 엔티티 대상으로 쿼리를 날림.( **셀렉트의 대상**: 객체(엔티디) 자체를 셀렉트 한다. )
-findbyname -> member.class 로 조회
+a. inline variable -> 한줄로 합쳐짐 ==> jpquary 를 따로 사용해줘야하는거 중요
=> 저장하고 조회하고 하는거 다 자동으로 이루어짐

---

- 주의해야할 것 : jpa 사용할 때는 항상 transactional 이 필요함. (data join 은 항상 트렌젝션 내부에 존재해야함.
- private EntityManager 사용해서 DI 시켜주기...
+.jpa는 깊이있게 공부 해줘야함



### <스프링 데이터 JPA>

- 인터페이스 만으로 개발을 할 수 있음-
- 반복적인 코드도 줄여줌
JPA 를 편하게 사용하게 해주는 도구.
JPA 를 먼저 학습하고 스프링 JPA 공부를 하고 해라
- interpace 를 받을 때는 extends 사용함
- findByName 하나 해주면 다 만든거임.
- 인터페이스만 만들어놓으면, 스프링 jpa 가 알아서 구조체 만들기 때문에, injection 받기 가능하다.

---

<정리>

- h2 데이터 베이스
- 순수 jdbc -> 통합 템플릿
jdbc 템플릿 사용해봄 -> sql 내가 직접 작성해줘야 했음
jpa -> 구조체 만들 필요없이, 구조체를 알아서 만들어줌

---

### [섹션7] <AOP>

1. 메서드 별 소요 시간 측정 => 방법1. 모든 메서드에 하나씩 time 계산하는거 
    
    ⇒ 핵심 로직이 아니라, '공통 관심 사항' 임. / 유지 보수 해내기 힘듬
    => 공통 관심 사항, 핵심 관심 사항을 분리시킴. 그리고 내가 원하는 데에 적용시킴
    => @ Aspect 작성해주기
    
2. AOP 메커니즘
  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/84139080-05e6-46f1-81e4-deee618cdc4f/Untitled.png)
